const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./IJ9d7ZCl.js","./DnacoLQE.js","./entry.DFo5q71V.css","./DZG1szEG.js","./NxX-rhnq.js"])))=>i.map(i=>d[i]);
import{_ as F}from"./DZG1szEG.js";import{m as N,a2 as Q,J as H,a3 as D,a4 as J,a5 as G,a6 as z,a7 as Y,K as X,a8 as K,r as Z,x as B,a9 as A,aa as k,E as ee,f as I,ab as ae,d as te,c as se,o as ne,a as re,w as ie,b as v,B as oe,t as x,a0 as ce,ac as ue,ad as le}from"./DnacoLQE.js";import{c as de}from"./NxX-rhnq.js";const fe={trailing:!0};function he(e,a=25,r={}){if(r={...fe,...r},!Number.isFinite(a))throw new TypeError("Expected `wait` to be a finite number");let i,n,t=[],s,u;const l=(m,c)=>(s=_e(e,m,c),s.finally(()=>{if(s=null,r.trailing&&u&&!n){const g=l(m,u);return u=null,g}}),s);return function(...m){return s?(r.trailing&&(u=m),s):new Promise(c=>{const g=!n&&r.leading;clearTimeout(n),n=setTimeout(()=>{n=null;const f=r.leading?i:l(this,m);for(const y of t)y(f);t=[]},a),g?(i=l(this,m),c(i)):t.push(c)})}}async function _e(e,a,r){return await e.apply(a,r)}const me=e=>e==="defer"||e===!1;function C(...e){var y;const a=typeof e[e.length-1]=="string"?e.pop():void 0;ye(e[0],e[1])&&e.unshift(a);let[r,i,n={}]=e;const t=N(()=>Q(r));if(typeof t.value!="string")throw new TypeError("[nuxt] [useAsyncData] key must be a string.");if(typeof i!="function")throw new TypeError("[nuxt] [useAsyncData] handler must be a function.");const s=H();n.server??(n.server=!0),n.default??(n.default=De),n.getCachedData??(n.getCachedData=j),n.lazy??(n.lazy=!1),n.immediate??(n.immediate=!0),n.deep??(n.deep=D.deep),n.dedupe??(n.dedupe="cancel"),n._functionName,s._asyncData[t.value];const u={cause:"initial",dedupe:n.dedupe};(y=s._asyncData[t.value])!=null&&y._init||(u.cachedData=n.getCachedData(t.value,s,{cause:"initial"}),s._asyncData[t.value]=R(s,t.value,i,n,u.cachedData));const l=s._asyncData[t.value];l._deps++;const m=()=>s._asyncData[t.value].execute(u),c=n.server!==!1&&s.payload.serverRendered;{let o=function(_){const h=s._asyncData[_];h!=null&&h._deps&&(h._deps--,h._deps===0&&(h==null||h._off()))};const d=J();if(d&&c&&n.immediate&&!d.sp&&(d.sp=[]),d&&!d._nuxtOnBeforeMountCbs){d._nuxtOnBeforeMountCbs=[];const _=d._nuxtOnBeforeMountCbs;G(()=>{_.forEach(h=>{h()}),_.splice(0,_.length)}),z(()=>_.splice(0,_.length))}const P=d&&(d._nuxtClientOnly||Y(de,!1));c&&s.isHydrating&&(l.error.value||l.data.value!=null)?l.status.value=l.error.value?"error":"success":d&&(!P&&s.payload.serverRendered&&s.isHydrating||n.lazy)&&n.immediate?d._nuxtOnBeforeMountCbs.push(m):n.immediate&&m();const U=ae(),q=X([t,...n.watch||[]],([_],[h])=>{var T,O;if((_||h)&&_!==h){const W=((T=s._asyncData[h])==null?void 0:T.data.value)!==D.value,M=s._asyncDataPromises[h]!==void 0;h&&o(h);const S={cause:"initial",dedupe:n.dedupe};(O=s._asyncData[_])!=null&&O._init||(S.cachedData=n.getCachedData(_,s,{cause:"initial"}),s._asyncData[_]=R(s,_,i,n,S.cachedData)),s._asyncData[_]._deps++,(n.immediate||W||M)&&s._asyncData[_].execute(S)}else l._execute({cause:"watch",dedupe:n.dedupe})},{flush:"sync"});U&&K(()=>{q(),o(t.value)})}const g={data:p(()=>{var o;return(o=s._asyncData[t.value])==null?void 0:o.data}),pending:p(()=>{var o;return(o=s._asyncData[t.value])==null?void 0:o.pending}),status:p(()=>{var o;return(o=s._asyncData[t.value])==null?void 0:o.status}),error:p(()=>{var o;return(o=s._asyncData[t.value])==null?void 0:o.error}),refresh:(...o)=>s._asyncData[t.value].execute(...o),execute:(...o)=>s._asyncData[t.value].execute(...o),clear:()=>L(s,t.value)},f=Promise.resolve(s._asyncDataPromises[t.value]).then(()=>g);return Object.assign(f,g),f}function p(e){return N({get(){var a;return(a=e())==null?void 0:a.value},set(a){const r=e();r&&(r.value=a)}})}function ye(e,a){return!(typeof e=="string"||typeof e=="object"&&e!==null||typeof e=="function"&&typeof a=="function")}function L(e,a){a in e.payload.data&&(e.payload.data[a]=void 0),a in e.payload._errors&&(e.payload._errors[a]=D.errorValue),e._asyncData[a]&&(e._asyncData[a].data.value=I(e._asyncData[a]._default()),e._asyncData[a].error.value=D.errorValue,e._asyncData[a].status.value="idle"),a in e._asyncDataPromises&&(e._asyncDataPromises[a]&&(e._asyncDataPromises[a].cancelled=!0),e._asyncDataPromises[a]=void 0)}function ge(e,a){const r={};for(const i of a)r[i]=e[i];return r}function R(e,a,r,i,n){var g;(g=e.payload._errors)[a]??(g[a]=D.errorValue);const t=i.getCachedData!==j,s=r,u=i.deep?Z:B,l=n!=null,m=e.hook("app:data:refresh",async f=>{(!f||f.includes(a))&&await c.execute({cause:"refresh:hook"})}),c={data:u(l?n:i.default()),pending:N(()=>c.status.value==="pending"),error:A(e.payload._errors,a),status:B("idle"),execute:(f={})=>{if(e._asyncDataPromises[a]){if(me(f.dedupe??i.dedupe))return e._asyncDataPromises[a];e._asyncDataPromises[a].cancelled=!0}{const o="cachedData"in f?f.cachedData:i.getCachedData(a,e,{cause:f.cause??"refresh:manual"});if(o!=null)return e.payload.data[a]=c.data.value=o,c.error.value=D.errorValue,c.status.value="success",Promise.resolve(o)}c.status.value="pending";const y=new Promise((o,d)=>{try{o(s(e))}catch(P){d(P)}}).then(async o=>{if(y.cancelled)return e._asyncDataPromises[a];let d=o;i.transform&&(d=await i.transform(o)),i.pick&&(d=ge(d,i.pick)),e.payload.data[a]=d,c.data.value=d,c.error.value=D.errorValue,c.status.value="success"}).catch(o=>{if(y.cancelled)return e._asyncDataPromises[a];c.error.value=ee(o),c.data.value=I(i.default()),c.status.value="error"}).finally(()=>{y.cancelled||delete e._asyncDataPromises[a]});return e._asyncDataPromises[a]=y,e._asyncDataPromises[a]},_execute:he((...f)=>c.execute(...f),0,{leading:!0}),_default:i.default,_deps:0,_init:!0,_hash:void 0,_off:()=>{var f;m(),(f=e._asyncData[a])!=null&&f._init&&(e._asyncData[a]._init=!1),t||k(()=>{var y;(y=e._asyncData[a])!=null&&y._init||(L(e,a),c.execute=()=>Promise.resolve(),c.data.value=D.value)})}};return c}const De=()=>D.value,j=(e,a,r)=>{if(a.isHydrating)return a.payload.data[e];if(r.cause!=="refresh:manual"&&r.cause!=="refresh:hook")return a.static.data[e]},ve={class:"rounded-xl text-inherit p-0 flex items-center post-grid-item bg-white dark:bg-stone-800"},be=["src","alt"],pe={class:"p-4 rounded-b-xl"},we={class:"font-bold text-lg mb-2 text-pretty"},$e={class:"font-normal text-base leading-6 mt-4 text-inherit text-balance"},Ce=te({__name:"PostCard",props:{post:{}},setup(e){return(a,r)=>{const i=F;return ne(),se("div",ve,[re(i,{href:a.post.path,class:"h-full max-w-full"},{default:ie(()=>[v("div",{class:oe(`rounded-xl relative flex flex-col min-w-0 break-words bg-clip-border bg-inherit border border-slate-600 h-full ${a.post.premium?"animate-cardpremium":""}`)},[v("div",null,[v("img",{class:"rounded-t-xl",width:"1280",height:"720",src:a.post.image,alt:`Capa da atividade: ${a.post.title}`},null,8,be)]),v("div",pe,[v("h2",we,x(a.post.title),1),r[0]||(r[0]=v("hr",{class:"my-4 mx-0 border-t opacity-25 border-slate-700 dark:border-slate-500"},null,-1)),v("h3",$e,x(a.post.description),1)])],2)]),_:1},8,["href"])])}}}),Re=Object.assign(Ce,{__name:"PostCard"}),V={posts:"v3.5.0--XBCtYbIgOsJ2m8EPb61wjkN0JJ5V46oGX7ppWy9JKnU"},Ee={posts:"_content_posts",info:"_content_info"},Ie={posts:{type:"page",fields:{id:"string",title:"string",body:"json",date:"string",description:"string",extension:"string",image:"string",meta:"json",navigation:"json",path:"string",premium:"boolean",seo:"json",sitemap:"json",stem:"string",tags:"json"}},info:{type:"data",fields:{}}},w=(e,a)=>{const r=e._conditions;return r.length>0?`(${r.join(` ${a} `)})`:""},$=e=>{const a=[],r={_conditions:a,where(i,n,t){let s;switch(n.toUpperCase()){case"IN":case"NOT IN":if(Array.isArray(t)){const u=t.map(l=>b(l)).join(", ");s=`"${String(i)}" ${n.toUpperCase()} (${u})`}else throw new TypeError(`Value for ${n} must be an array`);break;case"BETWEEN":case"NOT BETWEEN":if(Array.isArray(t)&&t.length===2)s=`"${String(i)}" ${n.toUpperCase()} ${b(t[0])} AND ${b(t[1])}`;else throw new Error(`Value for ${n} must be an array with two elements`);break;case"IS NULL":case"IS NOT NULL":s=`"${String(i)}" ${n.toUpperCase()}`;break;case"LIKE":case"NOT LIKE":s=`"${String(i)}" ${n.toUpperCase()} ${b(t)}`;break;default:s=`"${String(i)}" ${n} ${b(typeof t=="boolean"?Number(t):t)}`}return a.push(`${s}`),r},andWhere(i){const n=i($());return a.push(w(n,"AND")),r},orWhere(i){const n=i($());return a.push(w(n,"OR")),r}};return r},Pe=(e,a)=>{const r={conditions:[],selectedFields:[],offset:0,limit:0,orderBy:[],count:{field:"",distinct:!1}},i={__params:r,andWhere(t){const s=t($());return r.conditions.push(w(s,"AND")),i},orWhere(t){const s=t($());return r.conditions.push(w(s,"OR")),i},path(t){return i.where("path","=",ce(t))},skip(t){return r.offset=t,i},where(t,s,u){return i.andWhere(l=>l.where(String(t),s,u)),i},limit(t){return r.limit=t,i},select(...t){return t.length&&r.selectedFields.push(...t),i},order(t,s){return r.orderBy.push(`"${String(t)}" ${s}`),i},async all(){return a(e,n()).then(t=>t||[])},async first(){return a(e,n({limit:1})).then(t=>t[0]||null)},async count(t="*",s=!1){return a(e,n({count:{field:String(t),distinct:s}})).then(u=>u[0].count)}};function n(t={}){let s="SELECT ";if(t!=null&&t.count)s+=`COUNT(${t.count.distinct?"DISTINCT ":""}${t.count.field}) as count`;else{const l=Array.from(new Set(r.selectedFields));s+=l.length>0?l.map(m=>`"${String(m)}"`).join(", "):"*"}s+=` FROM ${Ee[String(e)]}`,r.conditions.length>0&&(s+=` WHERE ${r.conditions.join(" AND ")}`),r.orderBy.length>0?s+=` ORDER BY ${r.orderBy.join(", ")}`:s+=" ORDER BY stem ASC";const u=(t==null?void 0:t.limit)||r.limit;return u>0&&(r.offset>0?s+=` LIMIT ${u} OFFSET ${r.offset}`:s+=` LIMIT ${u}`),s}return i};function b(e){return`'${String(e).replace(/'/g,"''")}'`}async function Le(e,a){return await $fetch(`/__nuxt_content/${a}/sql_dump.txt`,{context:{},responseType:"text",headers:{"content-type":"text/plain"},query:{v:V[String(a)],t:void 0}})}async function Se(e,a,r){var i,n,t;return await $fetch(`/__nuxt_content/${a}/query`,{context:e?{cloudflare:e.context.cloudflare}:{},headers:{"content-type":"application/json",...(t=(n=(i=e==null?void 0:e.node)==null?void 0:i.req)==null?void 0:n.headers)!=null&&t.cookie?{cookie:e.node.req.headers.cookie}:{}},query:{v:V[String(a)],t:void 0},method:"POST",body:{sql:r}})}const E=e=>{var r,i;const a=(i=(r=ue())==null?void 0:r.ssrContext)==null?void 0:i.event;return Pe(e,(n,t)=>Ne(a,n,t))};async function Ne(e,a,r){return window.WebAssembly?Te(a,r):Se(e,String(a),r)}async function Te(e,a){return await le(()=>import("./IJ9d7ZCl.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url).then(i=>i.loadDatabaseAdapter(e)).then(i=>i.all(a))}const je=async e=>{const{data:a}=await C(e,()=>E("posts").where("path","LIKE",`%${e}%`).first(),"$R5ghvifLDx");return a.value},Ve=async()=>{const{data:e}=await C("allPosts",()=>E("posts").order("date","DESC").all());return e.value},Ue=async e=>{const{data:a}=await C(e,()=>E("posts").where("path","LIKE",`%${e}%`).order("date","DESC").all(),"$E7_SV5h3dT");return a.value||[]},qe=async e=>{if(!e)return[];if(!e.tags||e.tags.length===0)return[];const a=`relatedPosts-${e.id}`,{data:r}=await C(a,async()=>{let i=[];for(const t of e.tags){const s=await E("posts").where("tags","LIKE",`%${t}%`).where("id","NOT LIKE",e.id).order("date","DESC").all();s&&(i=[...i,...s])}return Array.from(new Map(i.map(t=>[t.id,t])).values()).sort((t,s)=>new Date(s.date).getTime()-new Date(t.date).getTime()).slice(0,3)},"$mehAAL7UNH");return r.value||[]};export{Re as _,Ue as a,je as b,qe as c,Ie as d,V as e,Le as f,Ve as g,Ee as t,C as u};
